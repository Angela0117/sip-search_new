<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>酒吧搜尋頁</title>
  </head>
  <body>
    <%- include('./layout/header'); -%>
    <!-- banner區塊 -->
    <section
      class="section section-bar-search-banner text-center text-primary-1"
      style="
        background-image: linear-gradient(
            rgba(0, 0, 0, 0.5),
            rgba(0, 0, 0, 0.6)
          ),
          url(../assets/images/barsearch/bar-search-banner.png);
      "
    >
      <div class="container">
        <div class="main-title mb-6 mb-md-11">
          <h1 class="fs-6 fs-md-1">尋找你周圍最棒的酒吧</h1>
        </div>
        <div class="main-content text-primary-1">
          <div class="input-group mx-auto mb-5">
            <input
              type="text"
              class="form-control p-2 p-md-6 search-input"
              placeholder="立即搜尋"
              aria-label="Search"
              data-bs-toggle="modal"
              data-bs-target="#exampleModal"
            />
            <span
              class="input-group-text material-symbols-outlined fs-8 fs-md-5"
            >
              search
            </span>
          </div>
          <div id="selected-tags" class="d-flex flex-wrap mx-auto"></div>
        </div>

        <!-- Modal -->
        <div
          class="modal fade"
          id="exampleModal"
          tabindex="-1"
          aria-labelledby="exampleModalLabel"
          aria-hidden="true"
        >
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">
                  你想找哪兒的酒吧
                </h5>
                <button
                  type="button"
                  class="btn-close"
                  data-bs-dismiss="modal"
                  aria-label="Close"
                ></button>
              </div>
              <div class="modal-body text-primary-1">
                <div class="region mb-6">
                  <div class="area text-start mb-5">北部</div>
                  <div class="city-list">
                    <span class="city-item">台北市</span>
                    <span class="city-item">新北市</span>
                    <span class="city-item">基隆市</span>
                    <span class="city-item">桃園市</span>
                    <span class="city-item">新竹市</span>
                    <span class="city-item">新竹縣</span>
                  </div>
                </div>
                <div class="region mb-6">
                  <div class="area text-start mb-5">中南部</div>
                  <div class="city-list">
                    <span class="city-item">台中市</span>
                    <span class="city-item">苗栗縣</span>
                    <span class="city-item">彰化縣</span>
                    <span class="city-item">南投縣</span>
                    <span class="city-item">雲林縣</span>
                    <span class="city-item">台南市</span>
                    <span class="city-item">高雄市</span>
                    <span class="city-item">嘉義市</span>
                    <span class="city-item">屏東縣</span>
                  </div>
                </div>
                <div class="region mb-6">
                  <div class="area text-start mb-5">東部</div>
                  <div class="city-list">
                    <span class="city-item">宜蘭縣</span>
                    <span class="city-item">花蓮縣</span>
                    <span class="city-item">台東縣</span>
                  </div>
                </div>
                <div class="region mb-6">
                  <div class="area text-start mb-5">其他</div>
                  <div class="other-list">
                    <span class="other-item">可訂位</span>
                    <span class="other-item">2~3人</span>
                    <span class="other-item">4~6人</span>
                    <span class="other-item">6人以上</span>
                    <span class="other-item">有包廂</span>
                    <span class="other-item">停車場</span>
                    <span class="other-item">可刷卡</span>
                    <span class="other-item">不限時</span>
                  </div>
                </div>
              </div>
              <div class="modal-footer">
                <button
                  type="button"
                  class="btn btn-outline-light fs-7 rounded-pill"
                  data-bs-dismiss="modal"
                >
                  關閉
                </button>
                <button
                  type="submit"
                  class="btn btn-outline-light fs-7 rounded-pill"
                  data-bs-dismiss="modal"
                  id="addTagsBtn"
                >
                  儲存變更
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- 熱門酒吧區塊 -->
    <section class="section sectionPopularBars">
      <div class="container">
        <div class="main-title">
          <div class="main-title text-center mb-6 mb-md-12 mb-lg-15">
            <h3 class="fs-8 fs-md-5 mb-1 mb-md-4">Discover Popular Bars</h3>
            <h2 class="fs-7 fs-md-2">全台熱門酒吧 Top5</h2>
          </div>
        </div>

        <div class="main-content">
          <!-- Swiper -->
          <div class="swiper popularBarsSwiper">
            <div class="swiper-wrapper">
              <div class="swiper-slide">
                <div
                  class="popularBarsItem d-flex flex-column"
                  style="
                    background-image: linear-gradient(
                        rgba(0, 0, 0, 0.5),
                        rgba(0, 0, 0, 0.6)
                      ),
                      url(../assets/images/barsearch/popularbar01.png);
                  "
                >
                  <div class="title text-neutral-white d-flex mb-auto">
                    <h4 class="fs-7 fs-md-3">HANKO 60</h4>
                    <span
                      class="material-symbols-outlined fs-7 fs-md-4 text-neutral-white ms-auto"
                    >
                      favorite
                    </span>
                  </div>
                  <p
                    class="barIntro text-neutral-white fs-8 fs-md-6 mt-auto mb-8 mb-md-6"
                  >
                    紅樓夢的發想就是以賈寶玉以及林黛玉這對兩小無猜的愛情為主軸注入在這杯調酒裡面。
                  </p>
                  <div class="tags text-primary-4 d-flex flex-wrap gap-4">
                    <div class="tag bg-primary-1">可供訂位</div>
                    <div class="tag bg-primary-1">台北市</div>
                  </div>
                </div>
              </div>
              <div class="swiper-slide">
                <div
                  class="popularBarsItem d-flex flex-column"
                  style="
                    background-image: linear-gradient(
                        rgba(0, 0, 0, 0.5),
                        rgba(0, 0, 0, 0.6)
                      ),
                      url(../assets/images/barsearch/popularbar02.png);
                  "
                >
                  <div class="title text-neutral-white d-flex mb-auto">
                    <h4 class="fs-7 fs-md-3">Dream youth</h4>
                    <span
                      class="material-symbols-outlined fs-7 fs-md-4 text-neutral-white ms-auto"
                    >
                      favorite
                    </span>
                  </div>
                  <p
                    class="barIntro text-neutral-white fs-8 fs-md-6 mt-auto mb-8 mb-md-6"
                  >
                    紅樓夢的發想就是以賈寶玉以及林黛玉這對兩小無猜的愛情為主軸注入在這杯調酒裡面。
                  </p>
                  <div class="tags text-primary-4 d-flex flex-wrap gap-4">
                    <div class="tag bg-primary-1">可供訂位</div>
                    <div class="tag bg-primary-1">台北市</div>
                  </div>
                </div>
              </div>
              <div class="swiper-slide">
                <div
                  class="popularBarsItem d-flex flex-column"
                  style="
                    background-image: linear-gradient(
                        rgba(0, 0, 0, 0.5),
                        rgba(0, 0, 0, 0.6)
                      ),
                      url(../assets/images/barsearch/popularbar03.png);
                  "
                >
                  <div class="title text-neutral-white d-flex mb-auto">
                    <h4 class="fs-7 fs-md-3">Vender Bar</h4>
                    <span
                      class="material-symbols-outlined fs-7 fs-md-4 text-neutral-white ms-auto"
                    >
                      favorite
                    </span>
                  </div>
                  <p
                    class="barIntro text-neutral-white fs-8 fs-md-6 mt-auto mb-8 mb-md-6"
                  >
                    紅樓夢的發想就是以賈寶玉以及林黛玉這對兩小無猜的愛情為主軸注入在這杯調酒裡面。
                  </p>
                  <div class="tags text-primary-4 d-flex flex-wrap gap-4">
                    <div class="tag bg-primary-1">可供訂位</div>
                    <div class="tag bg-primary-1">台北市</div>
                  </div>
                </div>
              </div>
              <div class="swiper-slide">
                <div
                  class="popularBarsItem d-flex flex-column"
                  style="
                    background-image: linear-gradient(
                        rgba(0, 0, 0, 0.5),
                        rgba(0, 0, 0, 0.6)
                      ),
                      url(../assets/images/barsearch/popularbar04.png);
                  "
                >
                  <div class="title text-neutral-white d-flex mb-auto">
                    <h4 class="fs-7 fs-md-3">HANKO 60</h4>
                    <span
                      class="material-symbols-outlined fs-7 fs-md-4 text-neutral-white ms-auto"
                    >
                      favorite
                    </span>
                  </div>
                  <p
                    class="barIntro text-neutral-white fs-8 fs-md-6 mt-auto mb-8 mb-md-6"
                  >
                    紅樓夢的發想就是以賈寶玉以及林黛玉這對兩小無猜的愛情為主軸注入在這杯調酒裡面。
                  </p>
                  <div class="tags text-primary-4 d-flex flex-wrap gap-4">
                    <div class="tag bg-primary-1">可供訂位</div>
                    <div class="tag bg-primary-1">台北市</div>
                  </div>
                </div>
              </div>
              <div class="swiper-slide">
                <div
                  class="popularBarsItem d-flex flex-column"
                  style="
                    background-image: linear-gradient(
                        rgba(0, 0, 0, 0.5),
                        rgba(0, 0, 0, 0.6)
                      ),
                      url(../assets/images/barsearch/popularbar05.png);
                  "
                >
                  <div class="title text-neutral-white d-flex mb-auto">
                    <h4 class="fs-7 fs-md-3">HANKO 60</h4>
                    <span
                      class="material-symbols-outlined fs-7 fs-md-4 text-neutral-white ms-auto"
                    >
                      favorite
                    </span>
                  </div>
                  <p
                    class="barIntro text-neutral-white fs-8 fs-md-6 mt-auto mb-8 mb-md-6"
                  >
                    紅樓夢的發想就是以賈寶玉以及林黛玉這對兩小無猜的愛情為主軸注入在這杯調酒裡面。
                  </p>
                  <div class="tags text-primary-4 d-flex flex-wrap gap-4">
                    <div class="tag bg-primary-1">可供訂位</div>
                    <div class="tag bg-primary-1">台北市</div>
                  </div>
                </div>
              </div>
              <div class="swiper-slide">
                <div
                  class="popularBarsItem d-flex flex-column"
                  style="
                    background-image: linear-gradient(
                        rgba(0, 0, 0, 0.5),
                        rgba(0, 0, 0, 0.6)
                      ),
                      url(../assets/images/barsearch/popularbar03.png);
                  "
                >
                  <div class="title text-neutral-white d-flex mb-auto">
                    <h4 class="fs-7 fs-md-3">HANKO 60</h4>
                    <span
                      class="material-symbols-outlined fs-7 fs-md-4 text-neutral-white ms-auto"
                    >
                      favorite
                    </span>
                  </div>
                  <p
                    class="barIntro text-neutral-white fs-8 fs-md-6 mt-auto mb-8 mb-md-6"
                  >
                    紅樓夢的發想就是以賈寶玉以及林黛玉這對兩小無猜的愛情為主軸注入在這杯調酒裡面。
                  </p>
                  <div class="tags text-primary-4 d-flex flex-wrap gap-4">
                    <div class="tag bg-primary-1">可供訂位</div>
                    <div class="tag bg-primary-1">台北市</div>
                  </div>
                </div>
              </div>
            </div>

            <div class="swiper-button-prev">
              <a href="" class="swiperButton d-block d-flex a;ign-items-center">
                <span class="material-symbols-outlined"> arrow_back </span>
              </a>
            </div>
            <div class="swiper-button-next">
              <a href="" class="swiperButton d-block d-flex align-items-center"
                ><span class="material-symbols-outlined">
                  arrow_forward
                </span></a
              >
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- 獨特酒吧 -->
    <section class="section section-unique-bars text-primary-1">
      <div class="container">
        <div class="row">
          <div class="col">
            <div class="main-title text-center mb-6 mb-md-12 mb-lg-15">
              <h3 class="fs-8 fs-md-5 mb-1 mb-md-4">Discover Unique Bars</h3>
              <h2 class="fs-7 fs-md-2">全新體驗，台灣獨特酒吧</h2>
            </div>

            <div class="main-content">
              <div class="unique-bar-list mb-11 mb-lg-13">
                <div class="unique-bar-item d-flex flex-column">
                  <div class="pic">
                    <img
                      src="../assets/images/barsearch/uniquebar01.png"
                      alt="bar"
                    />
                  </div>
                  <div class="txt text-white">
                    <h4 class="fs-6 fs-md-4 my-3 my-md-6">貓下去敦北俱樂部</h4>
                    <div class="tags mb-3 mb-md-5 d-flex flex-wrap gap-3">
                      <span class="tag">可供訂位</span
                      ><span class="tag">台北市</span>
                    </div>
                    <p class="fs-9 fs-md-6 mb-6 mb-md-11">
                      令人放鬆的餐館，供應麵食與台式牛排等在地美食，以及葡萄酒和啤酒。
                    </p>
                    <div
                      class="more text-primary-1 mt-auto d-flex gap-6 align-items-center"
                    >
                      <a href="#" class="d-inline-block fs-8 fs-md-5"
                        >查看更多</a
                      >
                      <span class="material-symbols-outlined fs-md-4">
                        chevron_right
                      </span>
                    </div>
                  </div>
                </div>
                <div class="unique-bar-item d-flex flex-column">
                  <div class="pic">
                    <img
                      src="../assets/images/barsearch/uniquebar02.png"
                      alt="bar"
                    />
                  </div>
                  <div class="txt text-white">
                    <h4 class="fs-6 fs-md-4 my-3 my-md-6">貓下去敦北俱樂部</h4>
                    <div class="tags mb-3 mb-md-5 d-flex flex-wrap gap-3">
                      <span class="tag">可供訂位</span
                      ><span class="tag">台北市</span>
                    </div>
                    <p class="fs-9 fs-md-6 mb-6 mb-md-11">
                      令人放鬆的餐館，供應麵食與台式牛排等在地美食，以及葡萄酒和啤酒。
                    </p>
                    <div
                      class="more text-primary-1 mt-auto d-flex gap-6 align-items-center"
                    >
                      <a href="#" class="d-block fs-8 fs-md-5">查看更多</a>
                      <span class="material-symbols-outlined fs-md-4">
                        chevron_right
                      </span>
                    </div>
                  </div>
                </div>
                <div class="unique-bar-item d-flex flex-column">
                  <div class="pic">
                    <img
                      src="../assets/images/barsearch/uniquebar03.png"
                      alt="bar"
                    />
                  </div>
                  <div class="txt text-white">
                    <h4 class="fs-6 fs-md-4 my-3 my-md-6">貓下去敦北俱樂部</h4>
                    <div class="tags mb-3 mb-md-5 d-flex flex-wrap gap-3">
                      <span class="tag">可供訂位</span
                      ><span class="tag">台北市</span>
                    </div>
                    <p class="fs-9 fs-md-6 mb-6 mb-md-11">
                      令人放鬆的餐館，供應麵食與台式牛排等在地美食，以及葡萄酒和啤酒。
                    </p>
                    <div
                      class="more text-primary-1 mt-auto d-flex gap-6 align-items-center"
                    >
                      <a href="#" class="d-block fs-8 fs-md-5">查看更多</a>
                      <span class="material-symbols-outlined fs-md-4">
                        chevron_right
                      </span>
                    </div>
                  </div>
                </div>
              </div>

              <div class="btn-more text-primary-1 text-center">
                <a
                  href="#"
                  class="d-inline-block fs-9 fs-md-6 py-2 py-md-6 px-3 px-10"
                  >了解更多特色酒吧</a
                >
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <%- include('./layout/footer'); -%>

    <script type="module" src="../main.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

    <!-- swiper -->
    <!-- <script>
      let swiper = new Swiper(".popularBarsSwiper", {
        navigation: {
          nextEl: ".swiper-button-next",
          prevEl: ".swiper-button-prev",
        },
        loop: true,
        breakpoints: {
          768: {
            slidesPerView: 1,
            slidesPerGroup: 1,
          },
          992: {
            slidesPerView: 2,
            slidesPerGroup: 2,
          },
        },
      });
    </script> -->

    <!-- <script>
      // 監聽所有 .tag 和 .item 元素的點擊事件
      document.querySelectorAll(".city-item,.other-item").forEach((element) => {
        element.addEventListener("click", function () {
          // 切換 'selected' class 來改變背景顏色
          this.classList.toggle("selected");
        });
      });

      // 當點擊 "Add Selected Tags" 按鈕時，將選中的 tag 添加到 banner 下方
      document
        .getElementById("addTagsBtn")
        .addEventListener("click", function () {
          const selectedTagsContainer =
            document.getElementById("selected-tags");

          // 獲取所有已經選中的 tag
          document
            .querySelectorAll(".city-item.selected,.other-item.selected")
            .forEach((selectedElement) => {
              const tagName = selectedElement.textContent.trim();

              // 檢查該 tag 是否已經存在於外部 banner
              if (
                !selectedTagsContainer.querySelector(`[data-tag="${tagName}"]`)
              ) {
                // 創建新元素來顯示選中的 tag
                const selectedTag = document.createElement("div");
                selectedTag.classList.add("selected-tag");
                selectedTag.textContent = tagName;
                selectedTag.setAttribute("data-tag", tagName);
                // 創建關閉圖標
                const closeIcon = document.createElement("span");
                closeIcon.classList.add(
                  "material-symbols-outlined",
                  "close-icon"
                );
                closeIcon.textContent = "close";

                // 關閉圖標點擊事件，點擊後移除該 tag
                closeIcon.addEventListener("click", function (event) {
                  selectedTagsContainer.removeChild(selectedTag);
                });

                // 將關閉圖標添加到 tag 內部
                selectedTag.appendChild(closeIcon);
                // 添加到 banner 下方
                selectedTagsContainer.appendChild(selectedTag);

                // 選擇完成後，清除選中狀態
                document
                  .querySelectorAll(".city-item.selected, .other-item.selected")
                  .forEach((selectedElement) => {
                    selectedElement.classList.remove("selected");
                  });
                // 點擊外部 tag 可以移除
                // selectedTag.addEventListener("click", function () {
                //   selectedTagsContainer.removeChild(this);
                // });
              }
            });

          // 選擇完成後，清除選中狀態並關閉 modal
          document
            .querySelectorAll(".tag.selected, .item.selected")
            .forEach((selectedElement) => {
              selectedElement.classList.remove("selected");
            });

          // 手動關閉 modal （如果沒有使用 data-bs-dismiss="modal"）
          const modal = bootstrap.Modal.getInstance(
            document.getElementById("searchModal")
          );
          modal.hide();
        });
    </script> -->
  </body>
</html>
